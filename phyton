
anger_words = ["–Ω–∏–∫–æ–≥–¥–∞", "–≤—Å–µ–≥–¥–∞", "–æ–ø—è—Ç—å", "–±–µ—Å–∏—à—å", "–Ω–µ–Ω–∞–≤–∏–∂—É", "–∏—Å–ø–æ—Ä—Ç–∏—à—å"]
sad_words = ["–æ–±–∏–¥–Ω–æ", "–≥—Ä—É—Å—Ç–Ω–æ", "—Ä–∞–∑–æ—á–∞—Ä–æ–≤–∞–Ω"]

rude_dictionary = {
    "—Ç—ã –≤—Å–µ–≥–¥–∞": "–º–Ω–µ –∫–∞–∂–µ—Ç—Å—è, —ç—Ç–æ —á–∞—Å—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç",
    "—Ç—ã –Ω–∏–∫–æ–≥–¥–∞": "—è –∑–∞–º–µ—á–∞—é, —á—Ç–æ —ç—Ç–æ —Ä–µ–¥–∫–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç",
    "–æ–ø—è—Ç—å": "—Å–Ω–æ–≤–∞ –≤–æ–∑–Ω–∏–∫–ª–∞ —Å–∏—Ç—É–∞—Ü–∏—è",
    "–±–µ—Å–∏—à—å": "–º–Ω–µ –Ω–µ–ø—Ä–∏—è—Ç–Ω–æ",
    "–≤—Å—ë –∏–∑-–∑–∞ —Ç–µ–±—è": "—è —Ä–∞—Å—Å—Ç—Ä–æ–µ–Ω –∏–∑-–∑–∞ —Å–ª—É—á–∏–≤—à–µ–≥–æ—Å—è"
}

def detect_emotion(text):
    text = text.lower()
    if any(word in text for word in anger_words):
        return "–ó–ª–æ—Å—Ç—å"
    if any(word in text for word in sad_words):
        return "–ü–µ—á–∞–ª—å"
    return "–ù–µ–π—Ç—Ä–∞–ª—å–Ω–æ"

def detect_need(emotion):
    if emotion == "–ó–ª–æ—Å—Ç—å":
        return "–ü–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç—å –≤ –∫–æ–Ω—Ç—Ä–æ–ª–µ –∏–ª–∏ —Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ—Å—Ç–∏"
    if emotion == "–ü–µ—á–∞–ª—å":
        return "–ü–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç—å –≤ –ø–æ–¥–¥–µ—Ä–∂–∫–µ –∏ –ø—Ä–∏–∑–Ω–∞–Ω–∏–∏"
    return "–ü–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç—å –≤ —è—Å–Ω–æ—Å—Ç–∏"

def escalation_score(text, emotion):
    score = 0
    text = text.lower()

    if "—Ç—ã" in text:
        score += 20
    if "–Ω–∏–∫–æ–≥–¥–∞" in text or "–≤—Å–µ–≥–¥–∞" in text:
        score += 30
    if "!" in text:
        score += 10
    if emotion == "–ó–ª–æ—Å—Ç—å":
        score += 30

    return min(score, 100)

def soften_text(text):
    lowered = text.lower()
    for rude, soft in rude_dictionary.items():
        lowered = lowered.replace(rude, soft)
    return lowered.capitalize()

def generate_alternatives():
    return {
        "–≠–º–ø–∞—Ç–∏—á–Ω—ã–π": "–Ø –ø–æ–Ω–∏–º–∞—é, —á—Ç–æ —Å–∏—Ç—É–∞—Ü–∏—è –≤—ã–∑—ã–≤–∞–µ—Ç —ç–º–æ—Ü–∏–∏. –î–∞–≤–∞–π –æ–±—Å—É–¥–∏–º —Å–ø–æ–∫–æ–π–Ω–æ.",
        "–†–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π": "–ü—Ä–µ–¥–ª–∞–≥–∞—é —Ä–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å —Ñ–∞–∫—Ç—ã –∏ –Ω–∞–π—Ç–∏ —Ä–µ—à–µ–Ω–∏–µ.",
        "–°–æ–∫—Ä–∞—Ç–æ–≤—Å–∫–∏–π": "–ß—Ç–æ –∏–º–µ–Ω–Ω–æ –≤ —ç—Ç–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏ —Ç–µ–±—è –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ –±–µ—Å–ø–æ–∫–æ–∏—Ç?"
    }

# === –û–°–ù–û–í–ù–ê–Ø –ü–†–û–ì–†–ê–ú–ú–ê ===

print("Conflict Translator")
print("-----------------------")

text = input("–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ: ")

emotion = detect_emotion(text)
need = detect_need(emotion)
score = escalation_score(text, emotion)
softened = soften_text(text)
alternatives = generate_alternatives()

print("\n–ê–ù–ê–õ–ò–ó:")
print("–≠–º–æ—Ü–∏—è:", emotion)
print("–°–∫—Ä—ã—Ç–∞—è –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç—å:", need)
print("–†–∏—Å–∫ —ç—Å–∫–∞–ª–∞—Ü–∏–∏:", score, "/100")

if score < 40:
    print("–ù–∏–∑–∫–∏–π —Ä–∏—Å–∫ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞")
elif score < 70:
    print("–°—Ä–µ–¥–Ω–∏–π —Ä–∏—Å–∫ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞")
else:
    print("–í—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞")

print("\n‚úè –°–º—è–≥—á—ë–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è:")
print(softened)

print("\nüí¨ –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã:")
for style, response in alternatives.items():
    print(f"{style}: {response}")
